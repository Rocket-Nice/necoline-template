!function(){"use strict";const e=document.querySelector(".container-counter__input"),t=document.querySelector(".container-counter__button--minus"),s=document.querySelector(".container-counter__button--plus"),n=e=>{e.classList.remove("active"),e.style.transform="translate(-50%, -50%) scale(0)",window.setTimeout((()=>e.style.zIndex="-10000"),500),e.classList.contains("custom-modal")&&e.remove()},o=(e,t=500,s=!1)=>{e.style=`\n      transition: ${t}ms;\n      display: block;\n      position: fixed;\n      will-change: transform;\n      `;const n=window.innerHeight,o=e.getBoundingClientRect().height;e.style.top=s&&o>n?"0":"50%",e.style.left="50%",e.style.transform=s?"translateX(-50%) scale(0)":"translate(-50%, -50%) scale(0)"};const r=(e,t=!1,s=!0)=>{e.classList.add("active"),e.style.zIndex="10000";const o=window.innerHeight,r=e.getBoundingClientRect().height;e.style.transform=t&&r>o?"translateX(-50%) scale(1)":"translate(-50%, -50%) scale(1)",document.querySelector("body").style.overflowY="hidden";const a=e.querySelectorAll("[data-fancybox-close]");a.forEach((e=>{e.addEventListener("click",i)})),s&&window.setTimeout((()=>document.body.addEventListener("click",l)),200),document.querySelector(".modal-window-shadow")||c();function l(e){e.target.closest(".c-modal")||e.target.closest(".c-modal__button")||i()}function i(){document.body.removeEventListener("click",l);document.querySelectorAll(".c-modal.active").forEach((e=>{(e=>{n(e);const t=document.querySelector(".modal-window-shadow");t&&t.classList.remove("active"),document.querySelector("body").style.height="",document.querySelector("body").style.overflowY=""})(e)})),a.forEach((e=>{e.removeEventListener("click",i)}))}document.querySelector(".modal-window-shadow").classList.add("active")},c=()=>{const e=document.createElement("div");e.classList.add("modal-window-shadow"),document.body.appendChild(e)},a={error:'\n  <div class="swal2-icon swal2-error swal2-icon-show" style="display: flex;">\n    <span class="swal2-x-mark">\n      <span class="swal2-x-mark-line-left"></span>\n      <span class="swal2-x-mark-line-right"></span>\n    </span>\n  </div>\n  ',success:'\n\t<div class="swal2-icon swal2-success swal2-icon-show" style="display: flex;">\n\t\t<span class="swal2-success-line-tip"></span>\n\t\t<span class="swal2-success-line-long"></span>\n\t\t<div class="swal2-success-ring"></div>\n\t</div>  '},l=e=>{const t=document.querySelector(".c-modal.active");t&&n(t);const{iconType:s,titleText:c,text:l,buttonText:i}=e,d=(e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild})(((e,t,s,n)=>`\n<div class="custom-modal c-modal">\n        ${e}\n        <p class="custom-modal__title">${t}</p>\n        <p class="custom-modal__text">${s}</p>\n        <button class="custom-modal__button" data-fancybox-close>${n}</button>\n    </div>\n`)(a[s],c,l,null!=e.buttonText?i:"OK"));document.querySelector("body").appendChild(d),o(d),r(d)},i=document.querySelector(".form-container"),d=document.querySelector(".form-container__button"),u=document.querySelector(".main-footer__form-button"),m=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,y=/^\+7\s?(\(\d{3}\)|\d{3})[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}$/,v=document.querySelector(".container-counter__input"),p=(e,t)=>{e.classList.remove("error"),t.querySelector(".error-text.format").classList.add("hide")},f=(e,t)=>{e.classList.add("error"),t.querySelector(".error-text.format").classList.remove("hide")};v&&(t.addEventListener("click",(t=>{if(t.preventDefault(),e.value<=1)return!1;e.value--})),s.addEventListener("click",(t=>{t.preventDefault(),e.value++}))),d.addEventListener("click",(e=>{e.preventDefault();const t=i.querySelectorAll(".form-container__input-container"),s=i.querySelector(".form-container__current-step");let n=!1;return i.classList.contains("step-2")?(l({iconType:"success",titleText:"Ваша заявка успешно отправлена",text:"",buttonText:"OK"}),i.querySelector("form").reset(),i.classList.remove("step-2"),i.querySelector(".form-container__general-info")?.classList.remove("hide"),i.querySelector(".form-container__non-required")?.classList.remove("active"),s.textContent="1",d.textContent="Далее",!1):(t.forEach((e=>{const t=e.querySelector("input");t.value?(t.classList.remove("error"),e.querySelector(".error-text.empty").classList.add("hide")):(t.classList.add("error"),e.querySelector(".error-text.empty").classList.remove("hide"),n=!0),t.classList.contains("form-container__input--email")&&(m.test(t.value)?p(t,e):(f(t,e),n=!0)),t.classList.contains("form-container__input--phone")&&(y.test(t.value)?p(t,e):(f(t,e),n=!0))})),!n&&(i.querySelector(".form-container__general-info")?.classList.add("hide"),i.querySelector(".form-container__non-required")?.classList.add("active"),void(s&&(s.textContent="2",i.classList.add("step-2")))))})),u.addEventListener("click",(e=>{let t=!1;document.querySelectorAll("footer .form-container__input-container").forEach((e=>{const s=e.querySelector("input");s.value?(s.classList.remove("error"),e.querySelector(".error-text.empty").classList.add("hide")):(s.classList.add("error"),e.querySelector(".error-text.empty").classList.remove("hide"),t=!0),s.classList.contains("main-footer__input--email")&&(m.test(s.value)?p(s,e):(f(s,e),t=!0))})),t&&e.preventDefault()}))}();
//# sourceMappingURL=vessel-page.js.map