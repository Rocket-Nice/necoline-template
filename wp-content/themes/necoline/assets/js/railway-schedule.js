!function(){"use strict";const e=document.querySelectorAll(".table"),t=(e,t=!1)=>`<li class="pagination__item ${t?"pagination__item--active":""}">\n                <button href="#" class="pagination__link">${e}</button>\n              </li>`,n=(e,t)=>{e.forEach(((e,n)=>{e.classList.add("hide"),n>=t-1&&n<t&&e.classList.remove("hide")}))},o=(e,t)=>{const n=e.closest(".container").querySelector(".pagination__number-item"),o=n.querySelectorAll(".pagination__item");n.querySelector(".pagination__item--active")?.classList.remove("pagination__item--active"),console.log(t),o[t-1].classList.add("pagination__item--active")},s=document.querySelector(".container-counter__input"),r=document.querySelector(".container-counter__button--minus"),c=document.querySelector(".container-counter__button--plus"),a=e=>{e.classList.remove("active"),e.style.transform="translate(-50%, -50%) scale(0)",window.setTimeout((()=>e.style.zIndex="-10000"),500),e.classList.contains("custom-modal")&&e.remove()},l=(e,t=500,n=!1)=>{e.style=`\n      transition: ${t}ms;\n      display: block;\n      position: fixed;\n      will-change: transform;\n      `;const o=window.innerHeight,s=e.getBoundingClientRect().height;e.style.top=n&&s>o?"0":"50%",e.style.left="50%",e.style.transform=n?"translateX(-50%) scale(0)":"translate(-50%, -50%) scale(0)"};const i=(e,t=!1,n=!0)=>{e.classList.add("active"),e.style.zIndex="10000";const o=window.innerHeight,s=e.getBoundingClientRect().height;e.style.transform=t&&s>o?"translateX(-50%) scale(1)":"translate(-50%, -50%) scale(1)",document.querySelector("body").style.overflowY="hidden";const r=e.querySelectorAll("[data-fancybox-close]");r.forEach((e=>{e.addEventListener("click",l)})),n&&window.setTimeout((()=>document.body.addEventListener("click",c)),200),document.querySelector(".modal-window-shadow")||d();function c(e){e.target.closest(".c-modal")||e.target.closest(".c-modal__button")||l()}function l(){document.body.removeEventListener("click",c);document.querySelectorAll(".c-modal.active").forEach((e=>{(e=>{a(e);const t=document.querySelector(".modal-window-shadow");t&&t.classList.remove("active"),document.querySelector("body").style.height="",document.querySelector("body").style.overflowY=""})(e)})),r.forEach((e=>{e.removeEventListener("click",l)}))}document.querySelector(".modal-window-shadow").classList.add("active")},d=()=>{const e=document.createElement("div");e.classList.add("modal-window-shadow"),document.body.appendChild(e)},u={error:'\n  <div class="swal2-icon swal2-error swal2-icon-show" style="display: flex;">\n    <span class="swal2-x-mark">\n      <span class="swal2-x-mark-line-left"></span>\n      <span class="swal2-x-mark-line-right"></span>\n    </span>\n  </div>\n  ',success:'\n\t<div class="swal2-icon swal2-success swal2-icon-show" style="display: flex;">\n\t\t<span class="swal2-success-line-tip"></span>\n\t\t<span class="swal2-success-line-long"></span>\n\t\t<div class="swal2-success-ring"></div>\n\t</div>  '},m=e=>{const t=document.querySelector(".c-modal.active");t&&a(t);const{iconType:n,titleText:o,text:s,buttonText:r}=e,c=(e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild})(((e,t,n,o)=>`\n<div class="custom-modal c-modal">\n        ${e}\n        <p class="custom-modal__title">${t}</p>\n        <p class="custom-modal__text">${n}</p>\n        <button class="custom-modal__button" data-fancybox-close>${o}</button>\n    </div>\n`)(u[n],o,s,null!=e.buttonText?r:"OK"));document.querySelector("body").appendChild(c),l(c),i(c)},y=document.querySelector(".form-container"),_=document.querySelector(".form-container__button"),p=document.querySelector(".main-footer__form-button"),v=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,f=/^\+7\s?(\(\d{3}\)|\d{3})[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}$/,L=document.querySelector(".container-counter__input"),q=(e,t)=>{e.classList.remove("error"),t.querySelector(".error-text.format").classList.add("hide")},h=(e,t)=>{e.classList.add("error"),t.querySelector(".error-text.format").classList.remove("hide")};L&&(r.addEventListener("click",(e=>{if(e.preventDefault(),s.value<=1)return!1;s.value--})),c.addEventListener("click",(e=>{e.preventDefault(),s.value++}))),_.addEventListener("click",(e=>{e.preventDefault();const t=y.querySelectorAll(".form-container__input-container"),n=y.querySelector(".form-container__current-step");let o=!1;return y.classList.contains("step-2")?(m({iconType:"success",titleText:"Ваша заявка успешно отправлена",text:"",buttonText:"OK"}),y.querySelector("form").reset(),y.classList.remove("step-2"),y.querySelector(".form-container__general-info")?.classList.remove("hide"),y.querySelector(".form-container__non-required")?.classList.remove("active"),n.textContent="1",_.textContent="Далее",!1):(t.forEach((e=>{const t=e.querySelector("input");t.value?(t.classList.remove("error"),e.querySelector(".error-text.empty").classList.add("hide")):(t.classList.add("error"),e.querySelector(".error-text.empty").classList.remove("hide"),o=!0),t.classList.contains("form-container__input--email")&&(v.test(t.value)?q(t,e):(h(t,e),o=!0)),t.classList.contains("form-container__input--phone")&&(f.test(t.value)?q(t,e):(h(t,e),o=!0))})),!o&&(y.querySelector(".form-container__general-info")?.classList.add("hide"),y.querySelector(".form-container__non-required")?.classList.add("active"),void(n&&(n.textContent="2",y.classList.add("step-2")))))})),p.addEventListener("click",(e=>{let t=!1;document.querySelectorAll("footer .form-container__input-container").forEach((e=>{const n=e.querySelector("input");n.value?(n.classList.remove("error"),e.querySelector(".error-text.empty").classList.add("hide")):(n.classList.add("error"),e.querySelector(".error-text.empty").classList.remove("hide"),t=!0),n.classList.contains("main-footer__input--email")&&(v.test(n.value)?q(n,e):(h(n,e),t=!0))})),t&&e.preventDefault()})),e.forEach((e=>{const s=e.querySelectorAll(".table__tbody"),r=s.length;let c=e.dataset.currentPage;const a=e.closest(".container").querySelector(".pagination__link--left"),l=e.closest(".container").querySelector(".pagination__link--right"),i=e.closest(".container").querySelector(".pagination__number-item");if(0==r){const e=document.createElement("li");e.innerHTML=t(1,!0),i.append(e)}else for(let e=1;e<=r;e++){const n=document.createElement("li");n.innerHTML=t(e,1==e),i.append(n)}n(s,c),a.addEventListener("click",(()=>{c<=1||(c--,n(s,c),o(e,c))})),l.addEventListener("click",(()=>{c>=r||(c++,n(s,c),o(e,c))})),i.addEventListener("click",(t=>{const r=t.target;c=Number(r.textContent),n(s,c),o(e,c)}))}))}();
//# sourceMappingURL=railway-schedule.js.map