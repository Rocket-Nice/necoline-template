!function(){"use strict";window.matchMedia("(max-width: 1440px)");const t=window.matchMedia("(max-width: 1280px)"),e=window.matchMedia("(max-width: 1130px)"),o=window.matchMedia("(max-width: 1000px)"),n=window.matchMedia("(max-width: 900px)"),i=(window.matchMedia("(max-width: 760px)"),window.matchMedia("(max-width: 620px)"),window.matchMedia("(max-width: 500px)"),window.matchMedia("(max-width: 440px)"),t=>{const e=document.querySelectorAll(t.elSelector);t.animations.forEach((o=>{if(o.currentScrollPosition>=o.startPosition||".fixed-container__bg-container"==t.elSelector||".form-container"==t.elSelector||".benefits__container"==t.elSelector||".short-news"==t.elSelector)for(const t in o.changeProperties){const n=o.changeProperties[t],i=n.from,r=n.to,s=n.unit,c=o.currentScrollPosition<=o.startPosition+60?0:o.currentScrollPosition>=o.endPosition?1:(o.currentScrollPosition-o.startPosition)/(o.endPosition-o.startPosition),a=(t="default")=>"default"==t?`${Number(i)+(r-i)*c}`:`${Number(i[t])+(r[t]-i[t])*c}${s[t]}`;e.forEach((e=>{const o=e.style.cssText;switch(t){case"translate":e.style.transform="XY"==n.direction?`${t}(${a(0)}, ${a(1)})`:`${t+n.direction}(${a()}${s})`;break;case"padding":switch(n.sideCount){case 1:e.style.padding=`${a()}${s}`;break;case 2:e.style.padding=`${a(0)} ${a(1)}`;break;case 3:e.style.padding=`${a(0)} ${a(1)} ${a(2)}`;break;case 4:e.style.padding=`${a(0)} ${a(1)} ${a(2)} ${a(3)}`}break;default:e.style=`${o} ${t}: ${a()}${s||""}`}}))}}))}),r=document.querySelectorAll(".benefit-controller"),s=document.querySelectorAll(".benefit-content"),c=document.querySelectorAll(".benefit-content__text"),a=t=>{const e=window.pageYOffset+t.getBoundingClientRect().top,o=window.pageXOffset+t.getBoundingClientRect().left,n=window.pageXOffset+t.getBoundingClientRect().right,i=window.pageYOffset+t.getBoundingClientRect().bottom,r=window.pageYOffset,s=window.pageXOffset,c=window.pageXOffset+document.documentElement.clientWidth,a=window.pageYOffset+document.documentElement.clientHeight;i>r&&e<a&&n>s&&o<c?t.classList.contains("block-animation--active")||t.classList.add("block-animation--active"):t.classList.contains("block-animation--active")&&t.classList.remove("block-animation--active")},l=()=>{((...t)=>{t.forEach((t=>{document.querySelectorAll(t).forEach((t=>{t.classList.add("block-animation"),window.addEventListener("scroll",(()=>a(t)))}))}))})(".first-screen",".main-page",".services__list",".benefits__container",".short-news",".form-container");const t=document.querySelectorAll(".block-animation");t.forEach((t=>{a(t)})),t.forEach((t=>{window.addEventListener("scroll",(()=>a(t)))}))},d=t=>{t.classList.remove("active"),t.style.transform="translate(-50%, -50%) scale(0)",window.setTimeout((()=>t.style.zIndex="-10000"),500),t.classList.contains("custom-modal")&&t.remove()},m=(t,e=500,o=!1)=>{t.style=`\n      transition: ${e}ms;\n      display: block;\n      position: fixed;\n      will-change: transform;\n      `;const n=window.innerHeight,i=t.getBoundingClientRect().height;t.style.top=o&&i>n?"0":"50%",t.style.left="50%",t.style.transform=o?"translateX(-50%) scale(0)":"translate(-50%, -50%) scale(0)"};const u=(t,e=!1,o=!0)=>{t.classList.add("active"),t.style.zIndex="10000";const n=window.innerHeight,i=t.getBoundingClientRect().height;t.style.transform=e&&i>n?"translateX(-50%) scale(1)":"translate(-50%, -50%) scale(1)",document.querySelector("body").style.overflowY="hidden";const r=t.querySelectorAll("[data-fancybox-close]");r.forEach((t=>{t.addEventListener("click",c)})),o&&window.setTimeout((()=>document.body.addEventListener("click",s)),200),document.querySelector(".modal-window-shadow")||f();function s(t){t.target.closest(".c-modal")||t.target.closest(".c-modal__button")||c()}function c(){document.body.removeEventListener("click",s);document.querySelectorAll(".c-modal.active").forEach((t=>{(t=>{d(t);const e=document.querySelector(".modal-window-shadow");e&&e.classList.remove("active"),document.querySelector("body").style.height="",document.querySelector("body").style.overflowY=""})(t)})),r.forEach((t=>{t.removeEventListener("click",c)}))}document.querySelector(".modal-window-shadow").classList.add("active")},f=()=>{const t=document.createElement("div");t.classList.add("modal-window-shadow"),document.body.appendChild(t)},h=document.querySelector(".container-counter__input"),p=document.querySelector(".container-counter__button--minus"),w=document.querySelector(".container-counter__button--plus"),v={error:'\n  <div class="swal2-icon swal2-error swal2-icon-show" style="display: flex;">\n    <span class="swal2-x-mark">\n      <span class="swal2-x-mark-line-left"></span>\n      <span class="swal2-x-mark-line-right"></span>\n    </span>\n  </div>\n  ',success:'\n\t<div class="swal2-icon swal2-success swal2-icon-show" style="display: flex;">\n\t\t<span class="swal2-success-line-tip"></span>\n\t\t<span class="swal2-success-line-long"></span>\n\t\t<div class="swal2-success-ring"></div>\n\t</div>  '},S=t=>{const e=document.querySelector(".c-modal.active");e&&d(e);const{iconType:o,titleText:n,text:i,buttonText:r}=t,s=(t=>{const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild})(((t,e,o,n)=>`\n<div class="custom-modal c-modal">\n        ${t}\n        <p class="custom-modal__title">${e}</p>\n        <p class="custom-modal__text">${o}</p>\n        <button class="custom-modal__button" data-fancybox-close>${n}</button>\n    </div>\n`)(v[o],n,i,null!=t.buttonText?r:"OK"));document.querySelector("body").appendChild(s),m(s),u(s)},P=document.querySelector(".form-container"),y=document.querySelector(".form-container__button"),g=document.querySelector(".main-footer__form-button"),_=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,b=/^\+7\s?(\(\d{3}\)|\d{3})[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}$/,L=document.querySelector(".container-counter__input"),x=(t,e)=>{t.classList.remove("error"),e.querySelector(".error-text.format").classList.add("hide")},q=(t,e)=>{t.classList.add("error"),e.querySelector(".error-text.format").classList.remove("hide")};L&&(p.addEventListener("click",(t=>{if(t.preventDefault(),h.value<=1)return!1;h.value--})),w.addEventListener("click",(t=>{t.preventDefault(),h.value++}))),y.addEventListener("click",(t=>{t.preventDefault();const e=P.querySelectorAll(".form-container__input-container"),o=P.querySelector(".form-container__current-step");let n=!1;return P.classList.contains("step-2")?(S({iconType:"success",titleText:"Ваша заявка успешно отправлена",text:"",buttonText:"OK"}),P.querySelector("form").reset(),P.classList.remove("step-2"),P.querySelector(".form-container__general-info")?.classList.remove("hide"),P.querySelector(".form-container__non-required")?.classList.remove("active"),o.textContent="1",y.textContent="Далее",!1):(e.forEach((t=>{const e=t.querySelector("input");e.value?(e.classList.remove("error"),t.querySelector(".error-text.empty").classList.add("hide")):(e.classList.add("error"),t.querySelector(".error-text.empty").classList.remove("hide"),n=!0),e.classList.contains("form-container__input--email")&&(_.test(e.value)?x(e,t):(q(e,t),n=!0)),e.classList.contains("form-container__input--phone")&&(b.test(e.value)?x(e,t):(q(e,t),n=!0))})),!n&&(P.querySelector(".form-container__general-info")?.classList.add("hide"),P.querySelector(".form-container__non-required")?.classList.add("active"),void(o&&(o.textContent="2",P.classList.add("step-2")))))})),g.addEventListener("click",(t=>{let e=!1;document.querySelectorAll("footer .form-container__input-container").forEach((t=>{const o=t.querySelector("input");o.value?(o.classList.remove("error"),t.querySelector(".error-text.empty").classList.add("hide")):(o.classList.add("error"),t.querySelector(".error-text.empty").classList.remove("hide"),e=!0),o.classList.contains("main-footer__input--email")&&(_.test(o.value)?x(o,t):(q(o,t),e=!0))})),e&&t.preventDefault()})),(()=>{const t=window.matchMedia("(max-width: 1024px)").matches;f();const e=document.querySelectorAll(".c-modal__button");e.length<=0||e.forEach((e=>{const o=document.querySelector(e.dataset.src);m(o,500,t);if(o.querySelectorAll("[data-fancybox-close]").length<=0){const t=document.createElement("button");t.setAttribute("data-fancybox-close",""),t.setAttribute("type","button"),t.innerHTML='<span class="visually-hidden">Кнопка закрытия модального окна</span>',o.appendChild(t)}e.addEventListener("click",(n=>{n.preventDefault();const i=document.querySelector(".c-modal.active");i&&d(i),u(o,t,"false"!=e.dataset.isFirst)}))}))})(),n.matches?l():(document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".main-page"),e=window.innerHeight;t.style.minHeight=5.7*e+"px"})),window.addEventListener("scroll",(()=>{const r=window.scrollY,s=window.innerHeight;for(let c=1;c<=5;c++){const a=s*c,l=s*(c-1);switch(c){case 1:o.matches?i({elSelector:".first-screen__img-container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"X",from:"0",to:"-40",unit:"vw"},width:{from:"34",to:"39",unit:"vw"}}}]}):i({elSelector:".first-screen__img-container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"X",from:"0",to:"-40",unit:"vw"},width:{from:"34.79",to:"39",unit:"vw"}}}]}),i({elSelector:".service__text-container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a-(a-l)/2,changeProperties:{opacity:{from:"0",to:"1"}}}]}),i({elSelector:".first-screen__title-container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"X",from:"0",to:"-80",unit:"vw"}}}]}),i({elSelector:".side-block",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{width:{from:"28.5",to:"13.8",unit:"vw"}}}]}),n.matches?i({elSelector:".side-block__title",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a-(a-l)/2,changeProperties:{width:{from:"87.95",to:"100",unit:"%"},"padding-top":{from:"13",to:"28",unit:"%"},"padding-bottom":{from:"13",to:"28",unit:"%"}}}]}):o.matches?i({elSelector:".side-block__title",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a-(a-l)/2,changeProperties:{width:{from:"97.2",to:"100",unit:"%"},"padding-top":{from:"12",to:"26",unit:"%"},"padding-bottom":{from:"12",to:"26",unit:"%"}}}]}):e.matches?i({elSelector:".side-block__title",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a-(a-l)/2,changeProperties:{width:{from:"94.45",to:"100",unit:"%"},"padding-top":{from:"11",to:"22",unit:"%"},"padding-bottom":{from:"11",to:"22",unit:"%"}}}]}):t.matches?i({elSelector:".side-block__title",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a-(a-l)/2,changeProperties:{width:{from:"91.95",to:"100",unit:"%"},"padding-top":{from:"10",to:"20",unit:"%"},"padding-bottom":{from:"10",to:"20",unit:"%"}}}]}):n.matches||i({elSelector:".side-block__title",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a-(a-l)/2,changeProperties:{width:{from:"87.95",to:"100",unit:"%"},"padding-top":{from:"10",to:"20",unit:"%"},"padding-bottom":{from:"10",to:"20",unit:"%"}}}]}),i({elSelector:".side-block:first-of-type",animations:[{startPosition:.2*l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"Y",from:"0",to:"-34",unit:"vh"}}}]}),i({elSelector:".side-block:last-of-type",animations:[{startPosition:1.2*l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"X",from:"0",to:"-14.4",unit:"vw"}}}]}),i({elSelector:".side-block h2",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{"font-size":{from:"1.3",to:"1",unit:"vw"}}}]}),i({elSelector:".services__title-container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"X",from:"-30",to:"0",unit:"vw"}}}]}),i({elSelector:".services__list",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"X",from:"80",to:"0",unit:"vw"}}}]});break;case 2:i({elSelector:".services__list",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"XY",from:["0","0"],to:["-14","-100"],unit:["vw","vh"]},width:{from:"39",to:"32",unit:"vw"}}}]}),i({elSelector:".first-screen__img-container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"XY",from:["-40","0"],to:["-47","-100"],unit:["vw","vh"]},width:{from:"39",to:"32",unit:"vw"}}}]}),i({elSelector:".mini-services",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"X",from:"20",to:"0",unit:"vw"}}}]}),i({elSelector:".benefits__container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a+s,changeProperties:{translate:{direction:"Y",from:"100",to:"-100",unit:"vh"}}}]});break;case 3:i({elSelector:".short-news",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a+s,changeProperties:{translate:{direction:"Y",from:"100",to:"-100",unit:"vh"}}}]});break;case 4:i({elSelector:".form-container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"Y",from:"100",to:"0",unit:"vh"}}}]});break;case 5:i({elSelector:".fixed-container__bg-container",animations:[{startPosition:l,currentScrollPosition:r,endPosition:a,changeProperties:{translate:{direction:"Y",from:"0",to:"-100",unit:"vh"}}}]})}}}))),r.forEach((t=>{t.addEventListener("click",(()=>{if(t.classList.contains("active"))return!1;document.querySelector(".benefit-controller.active").classList.remove("active"),t.classList.add("active");const e=t.dataset.benefitId-1;document.querySelector(".benefit-content.active").classList.remove("active"),s[e].classList.add("active")}))})),c.forEach((t=>{t.addEventListener("mouseover",(()=>{document.querySelector(".benefit-content__text.active").classList.remove("active"),t.classList.add("active");const e=t.dataset.ship;document.querySelector(".benefit-content__bg-img.active").classList.remove("active"),document.querySelector(`.benefit-content__bg-img[data-ship="${e}"]`).classList.add("active")}))}))}();
//# sourceMappingURL=main-page.js.map